(this["webpackJsonphbku-soss-student"]=this["webpackJsonphbku-soss-student"]||[]).push([[0],{92:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(24),s=a.n(c),i=a(9),o=a(4),l=a(42),d=a(14),u=a(0),j=["path","component","isAuthProtected","isAnonymousProtected"];function b(e){return Object(u.jsx)(u.Fragment,{children:e.children})}var h=function(e){e.path;var t=e.component,a=e.isAuthProtected,n=e.isAnonymousProtected,r=Object(l.a)(e,j),c=Object(d.c)((function(e){return e.User.user}));return Object(u.jsx)(i.b,Object(o.a)(Object(o.a)({},r),{},{render:function(e){return a&&null===c?Object(u.jsx)(i.a,{to:{pathname:"/login",state:{from:e.location}}}):!a&&n&&c?Object(u.jsx)(i.a,{to:{pathname:"/programs",state:{from:e.location}}}):Object(u.jsx)(b,{children:Object(u.jsx)(t,Object(o.a)({},e))})}}))},m=a(7),p=a.n(m),O="GET_USER_DATA",v="CLEAR_USER_DATA",f="SET_USER_DATA",x=function(){return{type:O,payload:{}}},g=function(e){return{type:f,payload:{user:e}}},N=function(){return{type:v,payload:{}}};var A=function(){var e=Object(d.b)(),t=Object(i.g)().search,a=new URLSearchParams(t).get("token");return a?localStorage.setItem("api-token",a):window.location.href="/",Object(n.useEffect)((function(){p.a.defaults.headers.common["api-key"]=a,e(x())}),[e,a]),Object(u.jsx)("div",{className:"auth loading",children:Object(u.jsx)("div",{className:"auth-form",children:Object(u.jsxs)("div",{className:"auth-form-loading",children:[Object(u.jsx)("h1",{children:"Logging in"}),Object(u.jsx)("i",{className:" fas fa-spinner fa-spin fa-2x"})]})})})},w=a(11),y=a(10),k=a.p+"static/media/logo_text_color.dad1baf2.svg",I="26f2ebad-737a-4778-8a66-36a56a653c65",W="https://orientationapi.hbku.edu.qa",S="last-program-id",C="data:image/png;base64,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",E=function(){return Object(u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18.285",height:"16",viewBox:"0 0 18.285 16",children:[Object(u.jsx)("path",{d:"M92.951,3.81A3.81,3.81,0,1,1,89.142,0,3.809,3.809,0,0,1,92.951,3.81Zm0,0",transform:"translate(-82.284)"}),Object(u.jsx)("path",{d:"M10.1,256H3.619A3.623,3.623,0,0,0,0,259.619v2.667a.572.572,0,0,0,.571.571H13.143a.572.572,0,0,0,.571-.571v-2.667A3.623,3.623,0,0,0,10.1,256Zm0,0",transform:"translate(0 -246.857)"}),Object(u.jsx)("path",{d:"M306.1,109.315l-2.667-2.476a.573.573,0,0,0-.961.419v1.714H299.43a.762.762,0,0,0,0,1.524h3.047v1.714a.572.572,0,0,0,.961.419l2.667-2.476a.573.573,0,0,0,0-.838Zm0,0",transform:"translate(-288.001 -102.877)"})]})};function F(e){var t=""===e.field_full_name?e.name:e.field_full_name,a=""===e.user_picture?C:W+e.user_picture;return Object(u.jsxs)("div",{className:"userAvatar",children:[Object(u.jsxs)("div",{className:"userAvatar-toogler",children:[Object(u.jsx)("img",{src:a,alt:t}),Object(u.jsxs)("span",{className:"userAvatar-name",children:["Welcome, ",t]})]}),Object(u.jsxs)("div",{className:"userAvatar-menue",children:[Object(u.jsx)("a",{href:"/",children:"Homepage"}),Object(u.jsx)(y.b,{to:"/programs",children:"My Orientation program"}),Object(u.jsx)(y.b,{to:"/logout",children:"Logout"})]})]})}function T(){var e=Object(d.c)((function(e){return e.User.user}));return e?Object(u.jsx)(F,Object(o.a)({},e)):Object(u.jsxs)(y.b,{to:"/login",className:"btn btn-outline-dark",children:[Object(u.jsx)(E,{}),Object(u.jsx)("span",{className:"ms-2",children:"Log in"})]})}var U=function(){return Object(u.jsx)("header",{children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("a",{href:"/",children:Object(u.jsx)("img",{src:k,alt:"logo",className:"logo"})}),Object(u.jsx)("div",{className:"actions",children:Object(u.jsx)(T,{})})]})})};var B=function(){return Object(u.jsx)("footer",{children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("a",{href:"#top",className:"btn-top",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",fill:"currentColor",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{d:"m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z"})})}),Object(u.jsx)("ul",{children:Object(u.jsx)("li",{children:"Copyright \xa92021 All rights reserved to Hamad Bin Khalifa University."})})]})})};var M=function(e){return Object(u.jsx)("div",{className:"topbar",id:"top",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("h1",{className:"mb-4",children:["Virtual Student ",Object(u.jsx)("br",{}),"Orientation 2021/22"]})})})};var R=function(e){return Object(u.jsx)("div",{className:"filter"})},q=a.p+"static/media/lock.20dec2a8.svg",L=a.p+"static/media/video.d50cc3f3.svg",H=a.p+"static/media/exclamation.5e797591.svg",K=a.p+"static/media/video-poster.4f0c61c5.png",D={avatar:C,name:"noha k. Salim",phone:"+97450696765",disponibilityDays:"Monday Tuesday Wednesday Saturday Sunday",disponibilityTime:"8:00 am - 3:30 pm",email:"sasupport@hbku.edu.qa",description:"Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Quisque ultricies justo sed feugiat tempus. Integer venenatis in justo nec iaculis. Vivamus eget vehicula ante. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Morbi tempus consectetur enim, at rhoncus nunc convallis viverra. Aenean aliquam lobortis aliquet. Ut malesuada ut dui ac facilisis. Vivamus mattis est justo, eget pharetra nunc accumsan non. Praesent vitae augue pretium, dignissim dui nec, fermentum est. Donec semper neque at justo mattis ultricies. Duis eu eleifend lorem. Suspendisse condimentum ex quis mauris interdum varius. Donec ultricies libero at condimentum consequat."},P=(Array.from({length:4}).map((function(){return{type:"article",thumbnail:K,text:"Lorem ipsum dolor sit amet.",title:"Lorem ipsum"}})),a(18));var Q=function(e){return Object(u.jsxs)("div",{className:"professor-card",children:[Object(u.jsx)("h2",{children:"Contact Us"}),Object(u.jsxs)("div",{className:"professor-card-container",children:[Object(u.jsx)("img",{src:e.avatar,alt:e.name}),Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{className:"name",children:"Support Team"}),Object(u.jsxs)("div",{className:"is-grid professor-grid",children:[Object(u.jsxs)("span",{children:[Object(u.jsx)("i",{className:"fas me-2 fa-envelope"}),Object(u.jsxs)("span",{children:[Object(u.jsx)("a",{href:"mailto:orientation@hbku.edu.qa",className:"text-primary-light",children:"orientation@hbku.edu.qa"})," "]})]}),Object(u.jsxs)("span",{children:[Object(u.jsx)("i",{className:"fas me-2 fa-clock"}),Object(u.jsx)("span",{children:"Sun-Thur 8AM to 4PM"})]})]})]})]})]})};function V(e){var t,a=e.secondary+"/"+(null===e||void 0===e||null===(t=e.chapters)||void 0===t?void 0:t[0]),n=function(){return e.locked?Object(u.jsx)("div",{className:"overlay locked",children:Object(u.jsx)("img",{src:q,alt:"locked",className:"thumbnail-icon"})}):Object(u.jsx)("div",{className:"overlay",children:Object(u.jsx)(y.b,{to:a,className:"thumbnail-icon",children:Object(u.jsx)("img",{src:L,alt:"locked",className:"thumbnail-icon"})})})};return Object(u.jsxs)("div",{className:e.locked?"course-card tooltip":"course-card",children:[e.locked&&e.isRequired?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("span",{className:"tooltiptext",children:"Dear student, in order to activate this chapter, you should complete the previous one"})}):Object(u.jsx)(u.Fragment,{}),Object(u.jsxs)("div",{className:"thumbnail-container",children:[Object(u.jsx)("img",{src:e.thumbnail,alt:Object(P.a)(e.title)}),Object(u.jsx)(n,{}),Object(u.jsx)("div",{className:"progress",children:parseInt(e.acchivement)})]}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsxs)("span",{className:"chapter-badge",children:["Chapter ",e.order]}),Object(u.jsx)("h2",{children:Object(P.a)(e.title)}),Object(u.jsx)("div",{children:e.isRequired?e.locked?Object(u.jsxs)("div",{className:"actions",children:[Object(u.jsx)("button",{disabled:!0,className:"btn big-text show-btn hover-outline btn-primary",children:"Start"}),Object(u.jsxs)("span",{className:"mandatory",children:[Object(u.jsx)("img",{src:H,alt:"exclamation"}),"mandatory"]})]}):Object(u.jsxs)("div",{className:"actions",children:[Object(u.jsx)(y.b,{to:a,className:"btn big-text show-btn hover-outline btn-primary",children:"Start"}),Object(u.jsxs)("span",{className:"mandatory",children:[Object(u.jsx)("img",{src:H,alt:"exclamation"}),"mandatory"]})]}):Object(u.jsx)("div",{className:"actions",children:Object(u.jsx)(y.b,{to:a,className:"btn big-text show-btn hover-outline btn-primary",children:"Start"})})})]})]})}var Y=function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"courses",children:e.items.map((function(t,a){return Object(u.jsx)(V,Object(o.a)(Object(o.a)({chapters:e.chapters[t.id]},t),{},{order:a+1}),a)}))}),Object(u.jsx)(Q,Object(o.a)({},D))]})},G={title:"Virtual Student Orientation 2021/22",category:"",icon:""};var Z=function(){document.title=G.title+" - HBKU-SOOS";var e=Object(n.useState)([]),t=Object(w.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)({}),s=Object(w.a)(c,2),i=s[0],l=s[1],d=Object(n.useState)({}),j=Object(w.a)(d,2),b=j[0],h=j[1];Object(n.useEffect)((function(){p.a.get("/api/programs").then((function(e){r(e.data.map((function(e){var t,a,n=null!==(t=e.field_chapters)&&void 0!==t?t:"";return{id:e.nid,thumbnail:W+e.field_thumbnail,primary:"/program/".concat(e.nid,"/").concat(null===(a=n.split(","))||void 0===a?void 0:a[0]),title:e.title,isRequired:"On"===e.field_is_required,description:e.field_description,secondary:"/program/".concat(e.nid),locked:"0"===e.status}}))),localStorage.setItem(S,e.data[e.data.length-1].nid)})).catch((function(){})),p.a.get("/api/student/progress").then((function(e){var t={};e.data.forEach((function(e){t[parseInt(e.field_program)]=e.field_process})),l(t)})).catch((function(){l({})})),p.a.get("/api/program/chapters").then((function(e){var t={};e.data.forEach((function(e){void 0===t[e.field_program]&&(t[e.field_program]=[]),t[e.field_program].push(e.nid)})),h(t)})).catch((function(){return null}))}),[]);var m=a.filter((function(e){return e.isRequired}));return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(U,{}),Object(u.jsx)(M,Object(o.a)({},G)),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)(R,{}),Object(u.jsx)(Y,{chapters:b,items:a.map((function(e){var t,a,n=isNaN(null===i||void 0===i?void 0:i[e.id])?"0":null===i||void 0===i?void 0:i[e.id];if(!e.isRequired)return Object(o.a)(Object(o.a)({},e),{},{locked:!1,acchivement:n});var r=m.findIndex((function(t){return t.id===e.id})),c=null!==(t=null===m||void 0===m?void 0:m[r-1])&&void 0!==t?t:{acchivement:"100"},s=null!==(a=null===i||void 0===i?void 0:i[c.id])&&void 0!==a?a:0;return Object(o.a)(Object(o.a)({},e),{},{locked:void 0!==c.id&&100!==parseInt(s),acchivement:n})}))})]}),Object(u.jsx)(B,{})]})};var _,J,X=function(e){return Object(u.jsx)("div",{className:"topbar topbar-cd",id:"top",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:e.toogled?" toogled":"",children:Object(u.jsxs)("h3",{className:"mb-4 section_title",children:[Object(u.jsxs)("b",{children:[e.prefix," : "]}),e.title]})})})})},z=["title","titleId"];function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ee(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function te(e,t){var a=e.title,r=e.titleId,c=ee(e,z);return n.createElement("svg",$({xmlns:"http://www.w3.org/2000/svg",width:15.354,height:13.974,viewBox:"0 0 15.354 13.974",ref:t,"aria-labelledby":r},c),a?n.createElement("title",{id:r},a):null,_||(_=n.createElement("defs",null,n.createElement("style",null,".a{fill:currentColor;}"))),J||(J=n.createElement("g",{transform:"translate(0 -23.01)"},n.createElement("path",{className:"a",d:"M361,23.01V33.356a1.789,1.789,0,0,1,.9.242V23.91A.9.9,0,0,0,361,23.01Z",transform:"translate(-350.174)"}),n.createElement("path",{className:"a",d:"M415.406,68.01h-2.279v10.8q0,.022,0,.043a1.787,1.787,0,0,1-.241.857h2.522a.45.45,0,0,0,.45-.45V68.46A.45.45,0,0,0,415.406,68.01Z",transform:"translate(-400.502 -43.651)"}),n.createElement("path",{className:"a",d:"M273.7,77.906h-.448a.45.45,0,0,1-.45-.45V68.01H271V80.556a.9.9,0,0,1,.9-.85h1.8a.9.9,0,1,0,0-1.8Z",transform:"translate(-262.873 -43.651)"}),n.createElement("path",{className:"a",d:"M0,68.46v10.8a.45.45,0,0,0,.45.45H6.326a.9.9,0,0,1,.9.858c0,.014,0,.028,0,.042s0,.02,0,.029V68.01H.45A.45.45,0,0,0,0,68.46Zm1.829,2.009h3.6a.45.45,0,0,1,0,.9h-3.6a.45.45,0,0,1,0-.9Zm3.569,3.6a.45.45,0,0,1-.247.4L2.482,75.819a.45.45,0,0,1-.653-.4v-2.7a.45.45,0,0,1,.653-.4l2.669,1.351a.45.45,0,0,1,.247.4Zm-3.569,2.7h3.6a.45.45,0,1,1,0,.9h-3.6a.45.45,0,1,1,0-.9Z",transform:"translate(0 -43.651)"}),n.createElement("path",{className:"a",d:"M91,250.651l1.222-.617L91,249.415Z",transform:"translate(-88.271 -219.615)"}))))}var ae,ne,re=n.forwardRef(te),ce=(a.p,["title","titleId"]);function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ie(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function oe(e,t){var a=e.title,r=e.titleId,c=ie(e,ce);return n.createElement("svg",se({xmlns:"http://www.w3.org/2000/svg",width:13.287,height:11.724,viewBox:"0 0 13.287 11.724",ref:t,"aria-labelledby":r},c),a?n.createElement("title",{id:r},a):null,ae||(ae=n.createElement("defs",null,n.createElement("style",null,".a{fill:currentColor;}"))),ne||(ne=n.createElement("g",{transform:"translate(0 -17.675)"},n.createElement("path",{className:"a",d:"M1.209,20.593H3.861a.133.133,0,0,0,.133-.133V17.808a.133.133,0,0,0-.133-.133H1.209a.133.133,0,0,0-.133.133V20.46A.133.133,0,0,0,1.209,20.593Z",transform:"translate(-1.028)"}),n.createElement("path",{className:"a",d:"M1.209,119.592H3.861a.133.133,0,0,0,.133-.133v-2.653a.133.133,0,0,0-.133-.133H1.209a.133.133,0,0,0-.133.133v2.653A.133.133,0,0,0,1.209,119.592Z",transform:"translate(-1.028 -94.62)"}),n.createElement("path",{className:"a",d:"M2.833,214.6H.18a.18.18,0,0,0-.18.18v2.653a.18.18,0,0,0,.18.18H2.833a.18.18,0,0,0,.18-.18v-2.653A.18.18,0,0,0,2.833,214.6ZM.847,216.766v-1.32h1.32v1.32Z",transform:"translate(0 -188.214)"}),n.createElement("path",{className:"a",d:"M116.116,31.96h-8.257a.133.133,0,0,0-.133.133v1.389a.133.133,0,0,0,.133.133h8.257a.133.133,0,0,0,.133-.133V32.093A.133.133,0,0,0,116.116,31.96Z",transform:"translate(-102.961 -13.653)"}),n.createElement("path",{className:"a",d:"M116.118,130.958h-8.257a.133.133,0,0,0-.133.133v1.389a.133.133,0,0,0,.133.133h8.257a.133.133,0,0,0,.133-.133v-1.389A.133.133,0,0,0,116.118,130.958Z",transform:"translate(-102.964 -108.272)"}),n.createElement("path",{className:"a",d:"M116.118,229.958h-8.257a.133.133,0,0,0-.133.133v1.389a.133.133,0,0,0,.133.133h8.257a.133.133,0,0,0,.133-.133v-1.389A.133.133,0,0,0,116.118,229.958Z",transform:"translate(-102.964 -202.893)"}))))}var le=n.forwardRef(oe),de=(a.p,function(e){var t=parseInt(e/60),a=parseInt(e%60);return"".concat(t," min ").concat(a," s")});function ue(e){var t=function(){return e.link?Object(u.jsx)("div",{children:Object(u.jsxs)(y.b,{to:"/program/".concat(e.programId,"/").concat(e.id),disabled:!0,children:[Object(u.jsx)("div",{className:"title",children:Object(P.a)(e.title)}),Object(u.jsxs)("div",{className:"time",children:[Object(u.jsx)("i",{className:"fas me-2 fa-stopwatch"}),de(e.time)]})]})}):Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"disabled",children:[Object(u.jsx)("div",{className:"title",children:Object(P.a)(e.title)}),Object(u.jsxs)("div",{className:"time",children:[Object(u.jsx)("i",{className:"fas me-2 fa-stopwatch"}),de(e.time)]})]})})},a=e.currentChapter?"active":"";return Object(u.jsx)("li",{className:a,children:Object(u.jsxs)("div",{className:"li-container",children:[Object(u.jsxs)("label",{className:"checkbox-container",children:[Object(u.jsx)("input",{type:"checkbox",checked:e.checked,onChange:function(){return null}}),Object(u.jsx)("span",{className:"checkmark"})]}),Object(u.jsx)(t,{})]})})}var je=function(e){var t,a,r,c=((null!==(t=parseInt(e.progress))&&void 0!==t?t:0)/100).toFixed(2),s=1/(0===e.items.length?1:e.items.length),l=Object(n.useRef)(0),d=100*e.items.filter((function(e,t){return(s*t).toFixed(2)<c})).length/(0===e.items.length?1:e.items.length),j=e.setPercent;Object(n.useEffect)((function(){l.current!==d&&j(d)}),[d,j]);var b=e.items.map((function(t,a){return Object(o.a)(Object(o.a)({},t),{},{currentChapter:t.id===e.currentChapter,checked:(s*a).toFixed(2)<c,link:(s*a).toFixed(2)<c||(s*(a-1)).toFixed(2)<c,programId:e.programId})}));if(!e.loadingcourses){var h=b.filter((function(e){return e.link})),m=b.filter((function(t){return t.id===e.currentChapter}))[0];if(void 0===m)return Object(u.jsx)(i.a,{to:"/programs"});if(!m.link&&null!==e.progressID)return Object(u.jsx)(i.a,{to:"/program/17/".concat(h[h.length-1].id)})}return Object(u.jsxs)("aside",{ref:e.useRef,children:[Object(u.jsx)("button",{id:"sidebar-toogler",onClick:e.toogler,children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{fillRule:"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"})})}),Object(u.jsxs)("div",{className:"actions",children:[Object(u.jsxs)(y.b,{to:"/programs",className:"btn btn-outline-dark",children:[Object(u.jsx)(le,{}),Object(u.jsx)("span",{className:"ms-2",children:"All chapters"})]}),100===d?Object(u.jsxs)("a",{href:e.nextUrl,className:"btn btn-outline-dark",disabled:!0,children:[Object(u.jsx)(re,{}),Object(u.jsx)("span",{className:"ms-2",children:"Next Chapter"})]}):Object(u.jsxs)("button",{className:"btn btn-outline-dark",disabled:!0,children:[Object(u.jsx)(re,{}),Object(u.jsx)("span",{className:"ms-2",children:"Next Chapter"})]})]}),Object(u.jsx)("div",{className:"py-3",children:Object(u.jsxs)("div",{className:"progress",children:[Object(u.jsx)("div",{className:"progress-bar",style:{width:"".concat(d,"%")}}),Object(u.jsxs)("span",{className:"progress-label",children:[d.toFixed(0),"%"]})]})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"header",children:Object(u.jsxs)("div",{children:[Object(u.jsxs)("span",{children:[Object(P.a)(null!==(a=null===(r=e.program)||void 0===r?void 0:r.title)&&void 0!==a?a:"")," Chapter Content"]}),Object(u.jsx)("button",{className:"btn btn-link close-side-bar",onClick:e.toogler,children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{fillRule:"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"})})})]})}),Object(u.jsx)("ul",{className:"lessons-list",children:b.map((function(e,t){return Object(u.jsx)(ue,Object(o.a)({},e),t)}))})]})]})};var be=function(e){return void 0===e.field_video?Object(u.jsx)("div",{className:"vider-container",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{ref:e.videoRef})})}):Object(u.jsx)("div",{className:"vider-container",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{ref:e.videoRef,children:Object(u.jsx)("video",{onEnded:e.end,src:W+e.field_video,controls:!0,autoPlay:!0})})})})};var he=function(e){var t=Object(n.useState)(0),a=Object(w.a)(t,2),r=a[0],c=a[1],s=Object(d.c)((function(e){return e.User.user}));return e.add?e.isLastProgram&&e.hasReview?Object(u.jsx)("div",{className:"modal".concat(e.show?" show":""),children:Object(u.jsxs)("div",{className:"modal-content text-start",children:[Object(u.jsxs)("div",{className:"text-start pt-4",children:[Object(u.jsx)("p",{className:"pb-4",children:"Dear Student,"}),Object(u.jsxs)("p",{className:"pb-4",children:["Congratulations on reaching this chapter! We hope that you have gained the needed knowledge to tackle this year successfully. To complete your orientation, you are required to register for the advising session for your program through this link:",Object(u.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://hbku.wufoo.com/forms/advising-session-registration-202122/",children:"https://hbku.wufoo.com/forms/advising-session-registration-202122/"})]}),Object(u.jsx)("p",{className:"pb-4",children:"You will receive a link with the session link and timing."}),Object(u.jsxs)("p",{className:"pb-4",children:["For any questions, comments or feedback on your orientation experience, please feel free to email us at"," ",Object(u.jsx)("a",{href:"mailto:orientation@hbku.edu.qa",children:"orientation@hbku.edu.qa"})]})]}),Object(u.jsx)(y.b,{to:"/programs",className:"btn btn-dark",children:"Back to all chapters"})]})}):e.hasReview?Object(u.jsx)("div",{className:"modal".concat(e.show?" show":""),children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsx)("h3",{children:"Thank you for your review"}),Object(u.jsx)("div",{className:"review text-primary",children:Array.from({length:5}).map((function(t,a){return Object(u.jsx)("i",{className:"".concat(a+1<=e.review?"fas fa-star":"far fa-star")},a)}))}),Object(u.jsxs)("a",{href:e.nextUrl,className:"btn btn-primary hover-outline",children:[Object(u.jsx)(re,{}),Object(u.jsx)("span",{className:"ms-2",children:"Go to next chapter"})]}),Object(u.jsxs)(y.b,{to:"/programs",className:"btn btn-dark",children:[Object(u.jsx)(le,{}),Object(u.jsx)("span",{className:"ms-2",children:"Back to all chapters"})]})]})}):Object(u.jsx)("div",{className:"modal".concat(e.show?" show":""),children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsx)("h3",{children:"Do you want to review this chapter ?"}),Object(u.jsx)("div",{className:"review text-primary",children:Array.from({length:5}).map((function(e,t){return Object(u.jsx)("i",{onClick:function(){return c(t+1)},className:"".concat(t+1<=r?"fas fa-star":"far fa-star")},t)}))}),Object(u.jsx)("button",{onClick:function(){var t={type:"student_review",title:[{value:"student review ".concat(e.programId,"-").concat(s.uid)}],field_program:[{target_id:e.programId}],field_review:[{value:r}]};p.a.post("/node?_format=json",t).then((function(t){e.refreshReview(t.data)})).catch((function(){}))},disabled:0===r,className:"btn btn-dark",children:"Send review"})]})}):Object(u.jsx)(u.Fragment,{})};var me=function(e){var t,a,c,s,i,l,j,b=Object(n.useState)({}),h=Object(w.a)(b,2),m=h[0],O=h[1],v=Object(n.useState)({}),f=Object(w.a)(v,2),x=f[0],g=f[1],N=Object(n.useState)(!1),A=Object(w.a)(N,2),k=A[0],I=A[1],C=Object(n.useState)([]),E=Object(w.a)(C,2),F=E[0],T=E[1],M=Object(n.useState)(!0),R=Object(w.a)(M,2),q=R[0],L=R[1],H=Object(n.useState)(0),K=Object(w.a)(H,2),V=K[0],Y=K[1],G=Object(n.useState)(null),Z=Object(w.a)(G,2),_=Z[0],J=Z[1],z=Object(n.useState)(!1),$=Object(w.a)(z,2),ee=$[0],te=$[1],ae=Object(n.useState)(!1),ne=Object(w.a)(ae,2),ce=ne[0],se=ne[1],ie=Object(n.useState)(0),oe=Object(w.a)(ie,2),de=oe[0],ue=oe[1],me=Object(n.useState)([]),pe=Object(w.a)(me,2),Oe=pe[0],ve=pe[1],fe=Object(n.useState)(!0),xe=Object(w.a)(fe,2),ge=xe[0],Ne=xe[1],Ae=Object(n.useState)(""),we=Object(w.a)(Ae,2),ye=we[0],ke=we[1],Ie=Object(n.useState)(0),We=Object(w.a)(Ie,2),Se=We[0],Ce=We[1],Ee=function(){return ge?Object(u.jsx)("div",{className:"text-center",children:Object(u.jsx)("i",{className:"fas fa-spinner fa-spin"})}):0!==Oe.length?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"Attachments"}),Object(u.jsx)("ul",{children:Oe.map((function(e,t){return Object(u.jsx)("li",{className:"py-1",children:Object(u.jsxs)("a",{href:W+e.field_attachment,target:"_blank",rel:"noreferrer",children:[Object(u.jsx)("i",{className:"fas fa-download me-2"}),e.title]})},t)}))})]}):Object(u.jsx)(u.Fragment,{})},Fe=Object(n.useRef)(),Te=Object(n.useRef)(),Ue=Object(n.useRef)(),Be=Object(d.c)((function(e){var t,a;return null===(t=e.User)||void 0===t||null===(a=t.user)||void 0===a?void 0:a.uid})),Me=null===e||void 0===e||null===(t=e.match)||void 0===t?void 0:t.params,Re=Me.id,qe=Me.chapterId,Le=function(){var e=null===Ue||void 0===Ue?void 0:Ue.current,t=null===Fe||void 0===Fe?void 0:Fe.current,a=null===Te||void 0===Te?void 0:Te.current,n="toogled"===(null===e||void 0===e?void 0:e.className);e&&(e.className=n?"":"toogled"),t&&(t.className=n?"":" toogled"),a&&(a.className=n?"":" toogled"),De()},He="/api/program/".concat(Re);Object(n.useEffect)(Le,[]),Object(n.useEffect)((function(){O({}),I(!1),p.a.get("/api/chapter/".concat(qe)).then((function(e){return O(e.data[0])})).catch((function(){return I(!0)}))}),[qe]),Object(n.useEffect)((function(){ve([]),Ne(!0),L(!0),p.a.get("/api/program/".concat(Re,"/chapters")).then((function(e){T(e.data.map((function(e){return{id:e.nid,title:e.title,time:e.field_video_duration,done:!1}}))),L(!1)})).catch((function(){L(!1)})),p.a.get(He).then((function(e){I(!1),g(e.data[0])})).catch((function(){I(!0)})),p.a.get("/api/student/program/".concat(Re,"/progress")).then((function(e){var t=e.data.sort((function(e,t){return e.nid-t.nid}));Y(isNaN(t[0].field_process)||""===t[0].field_process?0:t[0].field_process),J(t[0].nid)})).catch((function(){p.a.post("/node?_format=json",{type:"student_progress",title:[{value:"student progess ".concat(Re,"-").concat(Be)}],field_program:[{target_id:Re}],field_process:[{value:0}]}).then((function(e){return e.data})).then((function(e){Y(0),J(e.nid[0].value)}))})),p.a.get("/api/program/".concat(Re,"/attachments")).then((function(e){ve(e.data),Ne(!1)})).catch((function(){ve([]),Ne(!1)})),p.a.get("/api/student/program/".concat(Re,"/review")).then((function(e){var t,a;(null===(t=e.data)||void 0===t?void 0:t[0])&&(se(!0),ue(null===(a=e.data)||void 0===a?void 0:a[0].field_review))})).catch((function(){})),p.a.get("/api/programs").then((function(e){var t=e.data.map((function(e){return e.nid})),a=t[t.indexOf(Re)+1];p.a.get("/api/program/".concat(a,"/chapters")).then((function(e){var t,n,r="/program/".concat(a,"/").concat(null===(t=e.data)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.nid);ke(r)})).catch((function(){return null}))})).catch((function(){return null}))}),[Re,He,Be]);var Ke=null!==(a=null===m||void 0===m?void 0:m.field_paragraphs_export)&&void 0!==a?a:[],De=function(){var e,t=null===Ue||void 0===Ue?void 0:Ue.current,a=null===Fe||void 0===Fe?void 0:Fe.current,n="toogled"===(null===t||void 0===t?void 0:t.className),r=null===a||void 0===a||null===(e=a.getClientRects())||void 0===e?void 0:e[0],c=(null===r||void 0===r?void 0:r.x)+(null===r||void 0===r?void 0:r.width);window.innerWidth>768?t&&(t.style.left=n?"".concat(c,"px"):"100%"):t&&(t.style.left=n?"0px":"100%")},Pe=null===e||void 0===e||null===(c=e.match)||void 0===c||null===(s=c.params)||void 0===s?void 0:s.chapterId;Object(n.useEffect)((function(){return window.addEventListener("resize",(function(){De()})),function(){window.removeEventListener("resize",De)}}),[]);var Qe=(null===(i=F[F.length-1])||void 0===i?void 0:i.id)===qe,Ve=1/(0===F.length?1:F.length)*(F.findIndex((function(e){return e.id===qe}))+1),Ye={videoRef:Fe,end:function(){Qe?(te(!0),p.a.patch("/node/".concat(_),{type:"student_progress",field_process:[{value:100}]}).then((function(){Y(100)})).catch((function(){return null}))):100*Ve>V&&p.a.patch("/node/".concat(_),{type:"student_progress",field_process:[{value:100*Ve}]}).then((function(){Y(100*Ve)})).catch((function(){return null}))},field_video:null===m||void 0===m?void 0:m.field_video};if(k)return Object(u.jsx)(u.Fragment,{});var Ge=F.findIndex((function(e){return e.id===(null===m||void 0===m?void 0:m.nid)}))+1,Ze=localStorage.getItem(S)===m.field_program;return document.title="".concat(null===m||void 0===m?void 0:m.title," - HBKU-SOOS"),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(U,{}),Object(u.jsx)(he,{refreshReview:function(e){se(!0),ue(e.field_review[0].value)},programId:Re,review:de,add:Qe,hasReview:ce,show:ee,isLastProgram:Ze,nextUrl:ye}),Object(u.jsx)(X,{prefix:"".concat(Object(P.a)(null!==(l=null===x||void 0===x?void 0:x.title)&&void 0!==l?l:"")," >  Section ").concat(Ge),title:Object(P.a)(null!==(j=null===m||void 0===m?void 0:m.title)&&void 0!==j?j:"")}),Object(u.jsx)(je,{progress:V,useRef:Ue,toogler:Le,nextUrl:ye,programId:Re,setPercent:Ce,progressID:_,items:F,program:x,loadingcourses:q,currentChapter:Pe}),Object(u.jsx)(be,Object(o.a)({},Ye)),Object(u.jsxs)("div",{className:"container video-action",children:[Object(u.jsxs)(y.b,{to:"/programs",className:"btn btn-dark",children:[Object(u.jsx)(le,{}),Object(u.jsx)("span",{className:"ms-2",children:"All chapters"})]}),100===Se?Object(u.jsxs)("a",{href:ye,className:"btn btn-dark",disabled:!0,children:[Object(u.jsx)(re,{}),Object(u.jsx)("span",{className:"ms-2",children:"Next Chapter"})]}):Object(u.jsxs)("button",{className:"btn btn-dark",disabled:!0,children:[Object(u.jsx)(re,{}),Object(u.jsx)("span",{className:"ms-2",children:"Next Chapter"})]})]}),Object(u.jsx)("div",{className:"container course-detail",children:Object(u.jsxs)("div",{ref:Te,children:[Ke.map((function(e,t){return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)("h2",{children:Object(P.a)(e.title)}),Object(u.jsx)("p",{dangerouslySetInnerHTML:{__html:Object(P.a)(e.description)}})]},t)})),Object(u.jsx)(Ee,{}),Object(u.jsx)(Q,Object(o.a)({},D))]})}),Object(u.jsx)(B,{})]})};function pe(){p.a.defaults.headers.common["api-key"]=void 0,console.log("clearing from logout"),localStorage.clear();var e=Object(d.b)();return Object(n.useEffect)((function(){e(N()),window.location.href=W+"/user/logout"}),[e]),Object(u.jsx)(i.a,{to:"/"})}var Oe=function(){var e=Object(d.b)();Object(n.useEffect)((function(){var t=localStorage.getItem("api-token");t?(p.a.defaults.headers.common["api-key"]=t,e(x())):(p.a.defaults.headers.common["api-key"]=void 0,e(x()))}),[e]);var t=Object(d.c)((function(e){return e.Login.refreshingToken})),a=Object(d.c)((function(e){return e.User.loggingIn}));return t||a?Object(u.jsx)(u.Fragment,{}):Object(u.jsxs)(i.d,{children:[Object(u.jsx)(h,{path:"/login",isAnonymousProtected:!0,component:A,isAuthProtected:!1,exact:!0}),Object(u.jsx)(h,{path:"/programs",component:Z,isAuthProtected:!0,exact:!0}),Object(u.jsx)(h,{path:"/program/:id/:chapterId",component:me,isAuthProtected:!0,exact:!0}),Object(u.jsx)(h,{path:"/",isAuthProtected:!1,exact:!0,children:Object(u.jsx)("a",{href:"https://orientationapi.hbku.edu.qa/user/login",children:"Login"})}),Object(u.jsx)(i.b,{path:"/logout",children:Object(u.jsx)(pe,{})}),Object(u.jsx)(i.b,{children:Object(u.jsx)(i.a,{to:"/login"})})]})},ve=(a(91),a(92),a(20)),fe=a(44),xe="LOGIN_USER",ge="LOGIN_SUCCESS",Ne="LOGIN_API_ERROR",Ae="REFRESH_TOKEN",we="REFRESH_TOKEN_SUCCESS",ye={error:"",loggingIn:!1,refreshingToken:!0},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:e=Object(o.a)(Object(o.a)({},e),{},{loggingIn:!0});break;case ge:e=Object(o.a)(Object(o.a)({},e),{},{loggingIn:!1});break;case Ne:e=Object(o.a)(Object(o.a)({},e),{},{error:t.payload,loggingIn:!1});break;case Ae:e=Object(o.a)(Object(o.a)({},e),{},{refreshingToken:!0});break;case we:e=Object(o.a)(Object(o.a)({},e),{},{refreshingToken:!1});break;default:e=Object(o.a)({},e)}return e},Ie={user:null,loading:!0,loggingIn:!0},We=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case O:t=Object(o.a)(Object(o.a)({},t),{},{loading:!0});break;case f:t=Object(o.a)(Object(o.a)({},t),{},{user:null===a||void 0===a||null===(e=a.payload)||void 0===e?void 0:e.user,loggingIn:!1});break;case v:t=Object(o.a)(Object(o.a)({},t),{},{user:null,loggingIn:!1});break;default:t=Object(o.a)({},t)}return t},Se=Object(ve.b)({Login:ke,User:We}),Ce=a(12),Ee=a.n(Ce),Fe=a(8),Te=a(26),Ue=function(){return{type:we,payload:{}}},Be=Ee.a.mark(Le),Me=Ee.a.mark(He),Re=Ee.a.mark(Ke),qe=function(){var e=Object(Te.a)(Ee.a.mark((function e(t){return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("/oauth/token",t).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Le(e){var t,a,n,r,c,s;return Ee.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload.credential,(a=new FormData).append("grant_type","password"),a.append("client_id",I),a.append("client_secret",I),a.append("username",t.email),a.append("password",t.password),i.prev=7,i.next=10,qe(a);case 10:return n=i.sent,localStorage.setItem("access_token",n.access_token),localStorage.setItem("expires_in",n.expires_in),localStorage.setItem("refresh_token",n.refresh_token),localStorage.setItem("token_type",n.token_type),p.a.defaults.headers.common.Authorization="Bearer "+n.access_token,i.next=18,Object(Fe.c)(x());case 18:i.next=25;break;case 20:return i.prev=20,i.t0=i.catch(7),s=null===i.t0||void 0===i.t0||null===(r=i.t0.response)||void 0===r||null===(c=r.data)||void 0===c?void 0:c.message,i.next=25,Object(Fe.c)({type:Ne,payload:null!==s&&void 0!==s?s:"Cannot connect to server"});case 25:case"end":return i.stop()}}),Be,null,[[7,20]])}function He(){var e,t,a;return Ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=localStorage.getItem("refresh_token"),(t=new FormData).append("grant_type","refresh_token"),t.append("client_id",I),t.append("client_secret",I),t.append("refresh_token",e),!e){n.next=31;break}return n.prev=7,n.next=10,qe(t);case 10:return a=n.sent,localStorage.setItem("access_token",a.access_token),localStorage.setItem("expires_in",a.expires_in),localStorage.setItem("refresh_token",a.refresh_token),localStorage.setItem("token_type",a.token_type),p.a.defaults.headers.common.Authorization="Bearer "+a.access_token,n.next=18,Object(Fe.c)(x());case 18:return n.next=20,Object(Fe.c)(Ue());case 20:n.next=29;break;case 22:return n.prev=22,n.t0=n.catch(7),localStorage.clear(),n.next=27,Object(Fe.c)(Ue());case 27:return n.next=29,Object(Fe.c)(N());case 29:n.next=36;break;case 31:return localStorage.clear(),n.next=34,Object(Fe.c)(Ue());case 34:return n.next=36,Object(Fe.c)(N());case 36:case"end":return n.stop()}}),Me,null,[[7,22]])}function Ke(){return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Fe.d)(xe,Le);case 2:return e.next=4,Object(Fe.d)(Ae,He);case 4:case"end":return e.stop()}}),Re)}var De=Ke,Pe=Ee.a.mark(Ye),Qe=Ee.a.mark(Ge),Ve=function(){var e=Object(Te.a)(Ee.a.mark((function e(){return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/api/current-user",{withCredentials:!0}).then((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t[0]}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Ye(){var e;return Ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ve();case 3:return e=t.sent,t.next=6,Object(Fe.c)(g(e));case 6:return t.next=8,Object(Fe.c)(Ue());case 8:t.next=16;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Object(Fe.c)(g(null));case 14:return t.next=16,Object(Fe.c)(Ue());case 16:case"end":return t.stop()}}),Pe,null,[[0,10]])}function Ge(){return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Fe.d)(O,Ye);case 2:case"end":return e.stop()}}),Qe)}var Ze=Ge,_e=Ee.a.mark(Je);function Je(){return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Fe.a)([Object(Fe.b)(De)]);case 2:return e.next=4,Object(Fe.a)([Object(Fe.b)(Ze)]);case 4:case"end":return e.stop()}}),_e)}var Xe=Object(fe.a)(),ze=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ve.c,$e=Object(ve.d)(Se,ze(Object(ve.a)(Xe)));Xe.run(Je);var et=$e;p.a.defaults.baseURL=W,s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(d.a,{store:et,children:Object(u.jsx)(y.a,{children:Object(u.jsx)(Oe,{})})})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.0e0e84fa.chunk.js.map