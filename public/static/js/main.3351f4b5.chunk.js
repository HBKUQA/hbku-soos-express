(this["webpackJsonphbku-soss-student"]=this["webpackJsonphbku-soss-student"]||[]).push([[0],{124:function(e,t,n){},125:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(31),s=n.n(c),i=n(13),o=n(6),l=n(33),d=n(14),u=n(0),j=["path","component","isAuthProtected","isAnonymousProtected"];function b(e){return Object(u.jsx)(u.Fragment,{children:e.children})}var h=function(e){e.path;var t=e.component,n=e.isAuthProtected,r=e.isAnonymousProtected,a=Object(l.a)(e,j),c=Object(d.c)((function(e){return e.User.user}));return Object(u.jsx)(i.b,Object(o.a)(Object(o.a)({},a),{},{render:function(e){return n&&null===c?Object(u.jsx)(i.a,{to:{pathname:"/login",state:{from:e.location}}}):!n&&r&&c?Object(u.jsx)(i.a,{to:{pathname:"/programs",state:{from:e.location}}}):Object(u.jsx)(b,{children:Object(u.jsx)(t,Object(o.a)({},e))})}}))},p=n(7),m=n.n(p),O="GET_USER_DATA",v="CLEAR_USER_DATA",f="SET_USER_DATA",x=function(){return{type:O,payload:{}}},g=function(e){return{type:f,payload:{user:e}}},N=function(){return{type:v,payload:{}}};var A=function(){var e=Object(d.b)(),t=Object(i.g)().search,n=new URLSearchParams(t).get("token");return n?localStorage.setItem("api-token",n):window.location.href="/",Object(r.useEffect)((function(){m.a.defaults.headers.common["api-key"]=n,e(x())}),[e,n]),Object(u.jsx)("div",{className:"auth loading",children:Object(u.jsx)("div",{className:"auth-form",children:Object(u.jsxs)("div",{className:"auth-form-loading",children:[Object(u.jsx)("h1",{children:"Logging in"}),Object(u.jsx)("i",{className:" fas fa-spinner fa-spin fa-2x"})]})})})},w=n(20),y=n(11),I=n.p+"static/media/logo_text_color.dad1baf2.svg",k="26f2ebad-737a-4778-8a66-36a56a653c65",q="https://orientationapi.hbku.edu.qa",W="data:image/png;base64,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",S=function(){return Object(u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18.285",height:"16",viewBox:"0 0 18.285 16",children:[Object(u.jsx)("path",{d:"M92.951,3.81A3.81,3.81,0,1,1,89.142,0,3.809,3.809,0,0,1,92.951,3.81Zm0,0",transform:"translate(-82.284)"}),Object(u.jsx)("path",{d:"M10.1,256H3.619A3.623,3.623,0,0,0,0,259.619v2.667a.572.572,0,0,0,.571.571H13.143a.572.572,0,0,0,.571-.571v-2.667A3.623,3.623,0,0,0,10.1,256Zm0,0",transform:"translate(0 -246.857)"}),Object(u.jsx)("path",{d:"M306.1,109.315l-2.667-2.476a.573.573,0,0,0-.961.419v1.714H299.43a.762.762,0,0,0,0,1.524h3.047v1.714a.572.572,0,0,0,.961.419l2.667-2.476a.573.573,0,0,0,0-.838Zm0,0",transform:"translate(-288.001 -102.877)"})]})};function _(e){var t=""===e.field_full_name?e.name:e.field_full_name,n=""===e.user_picture?W:q+e.user_picture;return Object(u.jsxs)("div",{className:"userAvatar",children:[Object(u.jsxs)("div",{className:"userAvatar-toogler",children:[Object(u.jsx)("img",{src:n,alt:t}),Object(u.jsxs)("span",{className:"userAvatar-name",children:["Welcome, ",t]})]}),Object(u.jsxs)("div",{className:"userAvatar-menue",children:[Object(u.jsx)("a",{href:"/",children:"Homepage"}),Object(u.jsx)(y.b,{to:"/programs",children:"My Orientation program"}),Object(u.jsx)(y.b,{to:"/logout",children:"Logout"})]})]})}function C(){var e=Object(d.c)((function(e){return e.User.user}));return e?Object(u.jsx)(_,Object(o.a)({},e)):Object(u.jsxs)(y.b,{to:"/login",className:"btn btn-outline-dark",children:[Object(u.jsx)(S,{}),Object(u.jsx)("span",{className:"ms-2",children:"Log in"})]})}var E=function(){return Object(u.jsx)("header",{children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("a",{href:"/",children:Object(u.jsx)("img",{src:I,alt:"logo",className:"logo"})}),Object(u.jsx)("div",{className:"actions",children:Object(u.jsx)(C,{})})]})})};var F=function(){return Object(u.jsx)("footer",{children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("a",{href:"#top",className:"btn-top",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",fill:"currentColor",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{d:"m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z"})})}),Object(u.jsx)("ul",{children:Object(u.jsx)("li",{children:"Copyright \xa92022 All rights reserved to Hamad Bin Khalifa University."})})]})})};var R=function(e){return Object(u.jsx)("div",{className:"topbar",id:"top",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("h1",{className:"mb-4",children:["Student ",Object(u.jsx)("br",{}),"Orientation 2022/23"]})})})};var U=function(e){return Object(u.jsx)("div",{className:"filter"})},T=n.p+"static/media/lock.20dec2a8.svg",B=n.p+"static/media/video.d50cc3f3.svg",L=(n.p,n.p+"static/media/video-poster.4f0c61c5.png"),M={avatar:W,name:"noha k. Salim",phone:"+97450696765",disponibilityDays:"Monday Tuesday Wednesday Saturday Sunday",disponibilityTime:"8:00 am - 3:30 pm",email:"sasupport@hbku.edu.qa",description:"Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Quisque ultricies justo sed feugiat tempus. Integer venenatis in justo nec iaculis. Vivamus eget vehicula ante. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Morbi tempus consectetur enim, at rhoncus nunc convallis viverra. Aenean aliquam lobortis aliquet. Ut malesuada ut dui ac facilisis. Vivamus mattis est justo, eget pharetra nunc accumsan non. Praesent vitae augue pretium, dignissim dui nec, fermentum est. Donec semper neque at justo mattis ultricies. Duis eu eleifend lorem. Suspendisse condimentum ex quis mauris interdum varius. Donec ultricies libero at condimentum consequat."},Q=(Array.from({length:4}).map((function(){return{type:"article",thumbnail:L,text:"Lorem ipsum dolor sit amet.",title:"Lorem ipsum"}})),n(17));var D=function(e){return Object(u.jsxs)("div",{className:"professor-card",children:[Object(u.jsx)("h2",{children:"Contact Us"}),Object(u.jsxs)("div",{className:"professor-card-container",children:[Object(u.jsx)("img",{src:e.avatar,alt:e.name}),Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{className:"name",children:"Support Team"}),Object(u.jsxs)("div",{className:"is-grid professor-grid",children:[Object(u.jsxs)("span",{children:[Object(u.jsx)("i",{className:"fas me-2 fa-envelope"}),Object(u.jsxs)("span",{children:[Object(u.jsx)("a",{href:"mailto:orientation@hbku.edu.qa",className:"text-primary-light",children:"orientation@hbku.edu.qa"})," "]})]}),Object(u.jsxs)("span",{children:[Object(u.jsx)("i",{className:"fas me-2 fa-clock"}),Object(u.jsx)("span",{children:"Sun-Thur 8AM to 4PM"})]})]})]})]})]})};function z(e){var t,n=e.secondary+"/"+(null===e||void 0===e||null===(t=e.chapters)||void 0===t?void 0:t[0]),r=function(){return e.locked?Object(u.jsx)("div",{className:"overlay locked",children:Object(u.jsx)("img",{src:T,alt:"locked",className:"thumbnail-icon"})}):Object(u.jsx)("div",{className:"overlay",children:Object(u.jsx)(y.b,{to:n,className:"thumbnail-icon",children:Object(u.jsx)("img",{src:B,alt:"locked",className:"thumbnail-icon"})})})};return Object(u.jsxs)("div",{className:e.locked?"course-card tooltip":"course-card",children:[e.locked&&e.isRequired?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("span",{className:"tooltiptext",children:"Dear student, in order to activate this chapter, you should complete the previous one"})}):Object(u.jsx)(u.Fragment,{}),Object(u.jsxs)("div",{className:"thumbnail-container",children:[Object(u.jsx)("img",{src:e.thumbnail,alt:Object(Q.a)(e.title)}),Object(u.jsx)(r,{}),Object(u.jsx)("div",{className:"progress",children:parseInt(e.acchivement)})]}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsxs)("span",{className:"chapter-badge",children:["Chapter ",e.order]}),Object(u.jsx)("h2",{children:Object(Q.a)(e.title)}),Object(u.jsx)("div",{children:e.isRequired&&e.locked?Object(u.jsx)("div",{className:"actions",children:Object(u.jsx)("button",{disabled:!0,className:"btn big-text show-btn hover-outline btn-primary",children:"Start"})}):Object(u.jsx)("div",{className:"actions",children:Object(u.jsx)(y.b,{to:n,className:"btn big-text show-btn hover-outline btn-primary",children:"Start"})})})]})]})}var H=function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"courses",children:e.items.map((function(t,n){var r;return Object(u.jsx)(z,Object(o.a)(Object(o.a)({chapters:null===(r=e.chapters[t.id])||void 0===r?void 0:r.sort((function(e,t){return e.order-t.order})).map((function(e){return e.nid}))},t),{},{order:n+1}),n)}))}),Object(u.jsx)(D,Object(o.a)({},M))]})},K={title:"Student Orientation 2022/23",category:"",icon:""};var P=function(){document.title=K.title+" - HBKU-SOOS";var e=Object(r.useState)([]),t=Object(w.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)({}),s=Object(w.a)(c,2),i=s[0],l=s[1],d=Object(r.useState)({}),j=Object(w.a)(d,2),b=j[0],h=j[1];Object(r.useEffect)((function(){m.a.get("/api/programs").then((function(e){a(e.data.map((function(e){var t,n,r=null!==(t=e.field_chapters)&&void 0!==t?t:"";return console.log("e",{e:e}),{id:e.nid,thumbnail:q+e.field_thumbnail,primary:"/program/".concat(e.nid,"/").concat(null===(n=r.split(","))||void 0===n?void 0:n[0]),title:e.title,isRequired:"On"===e.field_is_required,description:e.field_description,secondary:"/program/".concat(e.nid),locked:"0"===e.status}}))),localStorage.setItem("23",e.data[e.data.length-1].nid)})).catch((function(){})),m.a.get("/api/student/progress").then((function(e){var t={};e.data.forEach((function(e){t[parseInt(e.field_program)]=e.field_process})),l(t)})).catch((function(){l({})})),m.a.get("/api/program/chapters").then((function(e){var t={};e.data.forEach((function(e){void 0===t[e.field_program]&&(t[e.field_program]=[]),t[e.field_program].push({nid:e.nid,order:e.field_order?Number.parseInt(e.field_order):0})})),h(t)})).catch((function(){return null}))}),[]);var p=n.filter((function(e){return e.isRequired}));return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(E,{}),Object(u.jsx)(R,Object(o.a)({},K)),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)(U,{}),Object(u.jsx)(H,{chapters:b,items:n.map((function(e){var t,n,r=isNaN(null===i||void 0===i?void 0:i[e.id])?"0":null===i||void 0===i?void 0:i[e.id];if(!e.isRequired)return Object(o.a)(Object(o.a)({},e),{},{locked:!1,acchivement:r});var a=p.findIndex((function(t){return t.id===e.id})),c=null!==(t=null===p||void 0===p?void 0:p[a-1])&&void 0!==t?t:{acchivement:"100"};n=null===i||void 0===i?void 0:i[c.id];return Object(o.a)(Object(o.a)({},e),{},{locked:!1,acchivement:r})}))})]}),Object(u.jsx)(F,{})]})};var J=function(e){return Object(u.jsx)("div",{className:"topbar topbar-cd",id:"top",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:e.toogled?" toogled":"",children:Object(u.jsxs)("h3",{className:"mb-4 section_title",children:[Object(u.jsxs)("b",{children:[e.prefix," : "]}),e.title]})})})})},V=function(e){var t=parseInt(e/60),n=parseInt(e%60);return"".concat(t," min ").concat(n," s")};var G=function(e){var t=function(){return e.link?Object(u.jsx)("div",{children:Object(u.jsxs)(y.b,{to:"/program/".concat(e.programId,"/").concat(e.id),disabled:!0,children:[Object(u.jsx)("div",{className:"title",children:Object(Q.a)(e.title)}),Object(u.jsxs)("div",{className:"time",children:[Object(u.jsx)("i",{className:"fas me-2 fa-stopwatch"}),V(e.time)]})]})}):Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"disabled",children:[Object(u.jsx)("div",{className:"title",children:Object(Q.a)(e.title)}),Object(u.jsxs)("div",{className:"time",children:[Object(u.jsx)("i",{className:"fas me-2 fa-stopwatch"}),V(e.time)]})]})})},n=e.currentChapter?"active":"";return Object(u.jsx)("li",{className:n,children:Object(u.jsxs)("div",{className:"li-container",children:[Object(u.jsxs)("label",{className:"checkbox-container",children:[Object(u.jsx)("input",{type:"checkbox",checked:e.checked,onChange:function(){return null}}),Object(u.jsx)("span",{className:"checkmark"})]}),Object(u.jsx)(t,{})]})})};var Y,Z,X=function(e){var t=e.toogler;return Object(u.jsx)("button",{id:"sidebar-toogler",onClick:t,children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{fillRule:"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"})})})},$=["title","titleId"];function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ee.apply(this,arguments)}function te(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ne(e,t){var n=e.title,a=e.titleId,c=te(e,$);return r.createElement("svg",ee({xmlns:"http://www.w3.org/2000/svg",width:15.354,height:13.974,viewBox:"0 0 15.354 13.974",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,Y||(Y=r.createElement("defs",null,r.createElement("style",null,".a{fill:currentColor;}"))),Z||(Z=r.createElement("g",{transform:"translate(0 -23.01)"},r.createElement("path",{className:"a",d:"M361,23.01V33.356a1.789,1.789,0,0,1,.9.242V23.91A.9.9,0,0,0,361,23.01Z",transform:"translate(-350.174)"}),r.createElement("path",{className:"a",d:"M415.406,68.01h-2.279v10.8q0,.022,0,.043a1.787,1.787,0,0,1-.241.857h2.522a.45.45,0,0,0,.45-.45V68.46A.45.45,0,0,0,415.406,68.01Z",transform:"translate(-400.502 -43.651)"}),r.createElement("path",{className:"a",d:"M273.7,77.906h-.448a.45.45,0,0,1-.45-.45V68.01H271V80.556a.9.9,0,0,1,.9-.85h1.8a.9.9,0,1,0,0-1.8Z",transform:"translate(-262.873 -43.651)"}),r.createElement("path",{className:"a",d:"M0,68.46v10.8a.45.45,0,0,0,.45.45H6.326a.9.9,0,0,1,.9.858c0,.014,0,.028,0,.042s0,.02,0,.029V68.01H.45A.45.45,0,0,0,0,68.46Zm1.829,2.009h3.6a.45.45,0,0,1,0,.9h-3.6a.45.45,0,0,1,0-.9Zm3.569,3.6a.45.45,0,0,1-.247.4L2.482,75.819a.45.45,0,0,1-.653-.4v-2.7a.45.45,0,0,1,.653-.4l2.669,1.351a.45.45,0,0,1,.247.4Zm-3.569,2.7h3.6a.45.45,0,1,1,0,.9h-3.6a.45.45,0,1,1,0-.9Z",transform:"translate(0 -43.651)"}),r.createElement("path",{className:"a",d:"M91,250.651l1.222-.617L91,249.415Z",transform:"translate(-88.271 -219.615)"}))))}var re,ae,ce=r.forwardRef(ne),se=(n.p,["title","titleId"]);function ie(){return ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ie.apply(this,arguments)}function oe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function le(e,t){var n=e.title,a=e.titleId,c=oe(e,se);return r.createElement("svg",ie({xmlns:"http://www.w3.org/2000/svg",width:13.287,height:11.724,viewBox:"0 0 13.287 11.724",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,re||(re=r.createElement("defs",null,r.createElement("style",null,".a{fill:currentColor;}"))),ae||(ae=r.createElement("g",{transform:"translate(0 -17.675)"},r.createElement("path",{className:"a",d:"M1.209,20.593H3.861a.133.133,0,0,0,.133-.133V17.808a.133.133,0,0,0-.133-.133H1.209a.133.133,0,0,0-.133.133V20.46A.133.133,0,0,0,1.209,20.593Z",transform:"translate(-1.028)"}),r.createElement("path",{className:"a",d:"M1.209,119.592H3.861a.133.133,0,0,0,.133-.133v-2.653a.133.133,0,0,0-.133-.133H1.209a.133.133,0,0,0-.133.133v2.653A.133.133,0,0,0,1.209,119.592Z",transform:"translate(-1.028 -94.62)"}),r.createElement("path",{className:"a",d:"M2.833,214.6H.18a.18.18,0,0,0-.18.18v2.653a.18.18,0,0,0,.18.18H2.833a.18.18,0,0,0,.18-.18v-2.653A.18.18,0,0,0,2.833,214.6ZM.847,216.766v-1.32h1.32v1.32Z",transform:"translate(0 -188.214)"}),r.createElement("path",{className:"a",d:"M116.116,31.96h-8.257a.133.133,0,0,0-.133.133v1.389a.133.133,0,0,0,.133.133h8.257a.133.133,0,0,0,.133-.133V32.093A.133.133,0,0,0,116.116,31.96Z",transform:"translate(-102.961 -13.653)"}),r.createElement("path",{className:"a",d:"M116.118,130.958h-8.257a.133.133,0,0,0-.133.133v1.389a.133.133,0,0,0,.133.133h8.257a.133.133,0,0,0,.133-.133v-1.389A.133.133,0,0,0,116.118,130.958Z",transform:"translate(-102.964 -108.272)"}),r.createElement("path",{className:"a",d:"M116.118,229.958h-8.257a.133.133,0,0,0-.133.133v1.389a.133.133,0,0,0,.133.133h8.257a.133.133,0,0,0,.133-.133v-1.389A.133.133,0,0,0,116.118,229.958Z",transform:"translate(-102.964 -202.893)"}))))}var de=r.forwardRef(le);n.p;var ue=function(e){e.percent;var t=e.nextUrl;return Object(u.jsxs)("div",{className:"actions",children:[Object(u.jsxs)(y.b,{to:"/programs",className:"btn btn-outline-dark",children:[Object(u.jsx)(de,{}),Object(u.jsx)("span",{className:"ms-2",children:"All chapters"})]}),Object(u.jsxs)("a",{href:t,className:"btn btn-outline-dark",disabled:!0,children:[Object(u.jsx)(ce,{}),Object(u.jsx)("span",{className:"ms-2",children:"Next"})]})]})};var je=function(e){var t=e.percent;return Object(u.jsx)("div",{className:"py-3",children:Object(u.jsxs)("div",{className:"progress",children:[Object(u.jsx)("div",{className:"progress-bar",style:{width:"".concat(t,"%")}}),Object(u.jsxs)("span",{className:"progress-label",children:[t.toFixed(0),"%"]})]})})};var be=function(e){var t=e.title,n=void 0===t?"":t,r=e.toogler,a=void 0===r?function(){return null}:r;return Object(u.jsx)("div",{className:"header",children:Object(u.jsxs)("div",{children:[Object(u.jsxs)("span",{children:[Object(Q.a)(n)," Chapter Content"]}),Object(u.jsx)("button",{className:"btn btn-link close-side-bar",onClick:a,children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{fillRule:"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"})})})]})})},he=["sideBarRef","videoRef","documentRef","updatePosition"];var pe=function(e){var t,n,a,c=e.sideBarRef,s=e.videoRef,d=e.documentRef,j=e.updatePosition,b=Object(l.a)(e,he);console.log("props sidebar",{props:b});var h=((null!==(t=parseInt(b.progress))&&void 0!==t?t:0)/100).toFixed(2),p=1/(0===b.items.length?1:b.items.length),m=100*b.items.filter((function(e,t){return(p*t).toFixed(2)<h})).length/(0===b.items.length?1:b.items.length),O=function(){var e=null===c||void 0===c?void 0:c.current,t=null===s||void 0===s?void 0:s.current,n=null===d||void 0===d?void 0:d.current,r="toogled"===(null===e||void 0===e?void 0:e.className);e&&(e.className=r?"":"toogled"),t&&(t.className=r?"":" toogled"),n&&(n.className=r?"":" toogled"),j()};Object(r.useEffect)(j,[j]),Object(r.useEffect)((function(){window.innerWidth>900&&O()}),[]);var v=b.items.map((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{currentChapter:e.id===b.currentChapter,checked:(p*t).toFixed(2)<h,link:(p*t).toFixed(2)<h||(p*(t-1)).toFixed(2)<h,programId:b.programId})}));if(!b.loadingcourses){var f=v.filter((function(e){return e.link})),x=v.filter((function(e){return e.id===b.currentChapter}))[0];if(void 0===x)return Object(u.jsx)(i.a,{to:"/programs"});if(!x.link&&null!==b.progressID)return Object(u.jsx)(i.a,{to:"/program/17/".concat(f[f.length-1].id)})}return Object(u.jsxs)("aside",{ref:c,children:[Object(u.jsx)(X,{toogler:O}),Object(u.jsx)(ue,{nextUrl:b.nextUrl,percent:m}),Object(u.jsx)(je,{percent:m}),Object(u.jsxs)("div",{children:[Object(u.jsx)(be,{toogler:O,title:null!==(n=null===(a=b.program)||void 0===a?void 0:a.title)&&void 0!==n?n:""}),Object(u.jsx)("ul",{className:"lessons-list",children:v.map((function(e,t){return Object(u.jsx)(G,Object(o.a)({},e),t)}))})]})]})};var me=function(e){var t=e.setProgress,n=e.progress,r=e.nextProgress,a=e.videoRef,c=e.field_video,s=e.isLast,i=e.progressID,o=e.setShowQuiz;return Object(u.jsx)("div",{className:"vider-container",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{ref:a,children:void 0===c?null:Object(u.jsx)("video",{onEnded:function(){if(s)o(!0),m.a.patch("/node/".concat(i),{type:"student_progress",field_process:[{value:100}]}).then((function(){return t(100)})).catch((function(){return null}));else if(100*r>n){var e=100*r;m.a.patch("/node/".concat(i),{type:"student_progress",field_process:[{value:e}]}).then((function(){return t(e)})).catch((function(){return null}))}},src:q+c,controls:!0,autoPlay:!0})})})})},Oe=n(18);var ve=function(e){var t=e.refetchReview,n=e.review,a=e.show,c=(e.isLastProgram,e.nextUrl),s=e.programId,i=Object(r.useState)(0),o=Object(w.a)(i,2),l=o[0],j=o[1],b=Object(d.c)((function(e){return e.User.user})),h=Object(Oe.useMutation)((function(){return m.a.post("/node?_format=json",{type:"student_review",title:[{value:"student review ".concat(s,"-").concat(b.uid)}],field_program:[{target_id:s}],field_review:[{value:l}]})}),{onSuccess:function(){return t()}});return n?Object(u.jsx)("div",{className:"modal".concat(a?" show":""),children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsx)("h3",{children:"Thank you for your review"}),Object(u.jsx)("div",{className:"review text-primary",children:Array.from({length:5}).map((function(e,t){return Object(u.jsx)("i",{className:"".concat(t+1<=parseInt(n.field_review,10)?"fas fa-star":"far fa-star")},t)}))}),Object(u.jsxs)("a",{href:c,className:"btn btn-primary hover-outline",children:[Object(u.jsx)(ce,{}),Object(u.jsx)("span",{className:"ms-2",children:"Go to next chapter"})]}),Object(u.jsxs)(y.b,{to:"/programs",className:"btn btn-dark",children:[Object(u.jsx)(de,{}),Object(u.jsx)("span",{className:"ms-2",children:"Back to all chapters"})]})]})}):Object(u.jsx)("div",{className:"modal".concat(a?" show":""),children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsx)("h3",{children:"Do you want to review this chapter ?"}),Object(u.jsx)("div",{className:"review text-primary",children:Array.from({length:5}).map((function(e,t){return Object(u.jsx)("i",{onClick:function(){return j(t+1)},className:"".concat(t+1<=l?"fas fa-star":"far fa-star")},t)}))}),Object(u.jsx)("button",{onClick:h.mutate,disabled:0===l,className:"btn btn-dark",children:"Send review"})]})})};function fe(e){e.percent;var t=e.nextUrl;return Object(u.jsxs)("a",{href:t,className:"btn btn-dark",disabled:!0,children:[Object(u.jsx)(ce,{}),Object(u.jsx)("span",{className:"ms-2",children:"Next"})]})}var xe=function(e){var t=e.nextUrl,n=e.percent,r=void 0===n?0:n;return Object(u.jsxs)("div",{className:"container video-action",children:[Object(u.jsxs)(y.b,{to:"/programs",className:"btn btn-dark",children:[Object(u.jsx)(de,{}),Object(u.jsx)("span",{className:"ms-2",children:"All chaptersss"})]}),Object(u.jsx)(fe,{nextUrl:t,percent:r})]})};var ge=function(e){var t=e.programId,n=e.chapterId,a=e.children,c=Object(r.useState)(""),s=Object(w.a)(c,2),i=s[0],o=s[1],l=Object(r.useState)(0),j=Object(w.a)(l,2),b=j[0],h=j[1],p=Object(r.useState)(null),O=Object(w.a)(p,2),v=O[0],f=O[1],x=Object(d.c)((function(e){var t,n;return null===(t=e.User)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.uid})),g=Object(r.useRef)(),N=Object(r.useRef)(),A=Object(r.useRef)();Object(r.useEffect)((function(){m.a.get("/api/student/program/".concat(t,"/progress")).then((function(e){var t=e.data.sort((function(e,t){return e.nid-t.nid}));h(isNaN(t[0].field_process)||""===t[0].field_process?0:t[0].field_process),f(t[0].nid)})).catch((function(){m.a.post("/node?_format=json",{type:"student_progress",title:[{value:"student progess ".concat(t,"-").concat(x)}],field_program:[{target_id:t}],field_process:[{value:0}]}).then((function(e){return e.data})).then((function(e){h(0),f(e.nid[0].value)}))}))}),[t,x]);var y=function(){var e,t=null===A||void 0===A?void 0:A.current,n=null===g||void 0===g?void 0:g.current,r="toogled"===(null===t||void 0===t?void 0:t.className),a=null===n||void 0===n||null===(e=n.getClientRects())||void 0===e?void 0:e[0],c=(null===a||void 0===a?void 0:a.x)+(null===a||void 0===a?void 0:a.width);window.innerWidth>768?t&&(t.style.left=r?"".concat(c,"px"):"100%"):t&&(t.style.left=r?"0px":"100%")};Object(r.useEffect)((function(){return window.addEventListener("resize",(function(){y()})),function(){window.removeEventListener("resize",y)}}),[]);var I=Object(Oe.useQuery)("get-programs-list",(function(){return m.a.get("/api/programs").then((function(e){return e.data.map((function(e){return e.nid}))}))})).data,k=void 0===I?[]:I,q=k[k.indexOf(t)+1],W=k[k.indexOf(t)],S=Object(Oe.useQuery)("get-chapter-".concat(W,"-courses"),(function(){return m.a.get("/api/program/".concat(W,"/chapters?ass")).then((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.data)&&void 0!==t?t:[]}))})).data,_=void 0===S?[]:S;return Object(r.useEffect)((function(){if(console.log("next program",{nextProgram:q,currentProgram:W,chapterList:_,chapterId:n}),null!==_&&void 0!==_&&_.length){var e,t=null===(e=_.sort((function(e,t){return e.order-t.order})))||void 0===e?void 0:e.map((function(e){return e.nid})),r=null===t||void 0===t?void 0:t.indexOf(n);if(console.log("next program",{nextProgram:q,currentProgram:W,chapterList:_,chapterId:n,index:r}),r>=0&&r<(null===_||void 0===_?void 0:_.length)-1)return console.log("setting new url","/program/".concat(W,"/").concat(t[r+1])),void o("/program/".concat(W,"/").concat(t[r+1]));console.log("wtf"),m.a.get("/api/program/".concat(q,"/chapters")).then((function(e){var t,n;o("/program/".concat(q,"/").concat(null===(t=e.data)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.nid))})).catch((function(){return null}))}}),[q,_]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(E,{}),r.Children.map(a,(function(e){return Object(r.cloneElement)(e,{nextUrl:i,programId:t,chapterId:n,videoRef:g,documentRef:N,sideBarRef:A,updatePosition:y,progress:b,setProgress:h,progressID:v})})),Object(u.jsx)(F,{})]})};var Ne=function(e){var t=e.id,n=Object(Oe.useQuery)("get-chapter-".concat(t,"-attachements"),(function(){return m.a.get("/api/program/".concat(t,"/attachments")).then((function(e){return e.data}))})),r=n.data,a=void 0===r?[]:r,c=n.isLoading,s=n.isFetching;return c||s?Object(u.jsx)("div",{className:"text-center",children:Object(u.jsx)("i",{className:"fas fa-spinner fa-spin"})}):0!==(a||[]).length?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"Attachments"}),Object(u.jsx)("ul",{children:(a||[]).map((function(e,t){return Object(u.jsx)("li",{className:"py-1",children:Object(u.jsxs)("a",{href:q+e.field_attachment,target:"_blank",rel:"noreferrer",children:[Object(u.jsx)("i",{className:"fas fa-download me-2"}),e.title]})},t)}))})]}):null};var Ae=function(e){var t=e.documentRef,n=e.id,a=e.sections,c=void 0===a?[]:a;return Object(u.jsx)("div",{className:"container course-detail",children:Object(u.jsxs)("div",{ref:t,children:[c.map((function(e,t){return Object(u.jsxs)(r.Fragment,{children:[Object(u.jsx)("h2",{children:Object(Q.a)(e.title)}),Object(u.jsx)("p",{dangerouslySetInnerHTML:{__html:Object(Q.a)(e.description)}})]},t)})),Object(u.jsx)(Ne,{id:n}),Object(u.jsx)(D,Object(o.a)({},M))]})})},we=n(27),ye=n.n(we),Ie=["id","quiz_answer"];var ke=function(e){var t=e.quiz_question,n=e.error,r=e.setResponses,a=void 0===r?function(){return null}:r,c=e.quiz_answers,s=void 0===c?[]:c,i=e.responses,o=void 0===i?[]:i;return Object(u.jsxs)("div",{className:ye.a.question,children:[Object(u.jsx)("h3",{children:Object(Q.a)(t)}),n&&Object(u.jsx)("span",{className:ye.a.errorDiv,children:n}),s.map((function(e){var t=e.id,n=e.quiz_answer;Object(l.a)(e,Ie);return Object(u.jsx)("div",{className:ye.a.response,children:Object(u.jsxs)("label",{children:[Object(u.jsx)("input",{checked:o.includes(t),value:n,type:"checkbox",onChange:function(){var e=JSON.parse(JSON.stringify(o));e.includes(t)?e=e.filter((function(e){return e!==t})):e.push(t),a(e)}}),Object(u.jsx)("span",{children:n})]})},t)}))]})};var qe=function(e){var t=e.errors,n=e.sendData,r=e.updateResponses,a=e.responses,c=void 0===a?{}:a,s=e.field_description,i=e.questions,o=void 0===i?[]:i,l=e.quizResponse;return l?Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{className:ye.a.title,children:"Quiz"}),Object(u.jsx)("p",{children:s}),l.map((function(e){var t=e.id,n=e.quiz_question,r=e.answers;return Object(u.jsxs)("div",{className:ye.a.question,children:[Object(u.jsx)("h3",{children:Object(Q.a)(n)}),Object(u.jsx)("ul",{className:ye.a.response,children:r.map((function(e){var t=e.id,n=e.quiz_answer,r=e.quiz_answer_is_correct;return Object(u.jsx)("li",{style:{color:r?"green":"red"},children:n},t)}))})]},t)})),Object(u.jsx)("button",{onClick:n,className:"btn btn-dark w100",children:"continue"})]}):Object(u.jsxs)("form",{onSubmit:n,children:[Object(u.jsx)("h2",{className:ye.a.title,children:"Quiz"}),Object(u.jsx)("p",{children:s}),o.map((function(e){var n=e.id,a=e.quiz_question,s=e.answers,i=void 0===s?[]:s;return Object(u.jsx)(ke,{questionId:n,quizResponse:null===l||void 0===l?void 0:l.field_quiz_multiple_questions_export,responses:c[n],error:t[n],quiz_answers:i||[],quiz_question:a,setResponses:function(e){var t=JSON.parse(JSON.stringify(c));t[n]=e,r(t)}},n)})),Object(u.jsx)("button",{type:"submit",className:"btn btn-dark w100",children:"Send response"})]})};var We=function(e){var t=e.programId,n=e.show,a=e.setShowQuiz,c=e.setShowReview,s=Object(r.useState)({}),i=Object(w.a)(s,2),o=i[0],l=i[1],j=Object(r.useState)({}),b=Object(w.a)(j,2),h=b[0],p=b[1],O=Object(d.c)((function(e){return e.User.user})),v=Object(Oe.useQuery)("get-program-quiz-".concat(t,"-response"),(function(){return m.a.get("/api/student/".concat(t,"/quiz")).then((function(e){return e.data[0]}))})),f=v.data,x=v.isLoading,g=v.isFetching,N=Object(Oe.useQuery)("get-program-quiz-".concat(t),(function(){return m.a.get("/api/program/".concat(t,"/quiz")).then((function(e){var t=e.data[0].field_quiz_multiple_questions_export,n={},r={};return t.forEach((function(e){var t=e.id;r[t]=[],n[t]=null})),p(n),l(r),e.data[0]}))})),A=N.isLoading,y=N.isFetching,I=N.isError,k=N.data,q=(k=void 0===k?{questions:[]}:k).nid,W=k.field_description,S=k.field_quiz_multiple_questions_export,_=void 0===S?[]:S,C=function(e){if(e.preventDefault(),null!==f&&void 0!==f&&f.field_quiz_multiple_questions_export||I)return a(!1),void c(!0);var n={},r=!0;_.forEach((function(e){var t=e.id;0===o[t].length?(r=!1,n[t]="this Question is required !"):h[t]=null})),p(n),r&&m.a.post("/api/program/quiz/student",{quiz_id:q,program_id:t,student_id:O.uid,quiz_multiple_questions:_.map((function(e){var t=e.quiz_question,n=e.id;return{quiz_question:t,quiz_answers:e.answers.map((function(e){var t=e.id;return{answer:e.quiz_answer,correct:!(e.quiz_answer_is_correct^o[n].includes(t))}}))}}))}).then((function(){a(!1),c(!0)})).catch((function(){return null}))};return Object(u.jsx)("div",{className:"modal".concat(n?" show":""),children:I?Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsx)("h2",{children:"This program doesn't have a quiz"}),Object(u.jsx)("button",{onClick:C,className:"btn btn-dark w100",children:"Contiune"})]}):Object(u.jsx)("div",{className:"modal-content",children:A||y||x||g?Object(u.jsx)("i",{className:"fas fa-spinner fa-spin"}):Object(u.jsx)(qe,{errors:h,updateResponses:l,responses:o,quizResponse:null===f||void 0===f?void 0:f.field_quiz_multiple_questions_export,questions:_,field_description:W,sendData:C})})})};var Se=function(e){var t,n,a,c,s,i=null===e||void 0===e||null===(t=e.match)||void 0===t?void 0:t.params,o=i.id,l=i.chapterId,d=Object(Oe.useQuery)("get-chapter-".concat(l),(function(){return m.a.get("/api/chapter/".concat(l)).then((function(e){return e.data[0]}))})),j=d.data,b=void 0===j?{}:j,h=d.refetch,p=d.isError,O=Object(Oe.useQuery)("get-chapter-".concat(l,"-program"),(function(){return m.a.get("/api/program/".concat(o)).then((function(e){return e.data[0]}))})).data,v=Object(Oe.useQuery)("get-program-review-".concat(o),(function(){return m.a.get("/api/student/program/".concat(o,"/review")).then((function(e){return e.data[0]}))})),f=v.data,x=v.refetch,g=Object(Oe.useQuery)("get-chapter-".concat(l,"-courses"),(function(){return m.a.get("/api/program/".concat(o,"/chapters")).then((function(e){return e.data.map((function(e){return{id:e.nid,title:e.title,time:e.field_video_duration,done:!1}}))}))})),N=g.data,A=void 0===N?[]:N,y=g.isLoading,I=g.isFetching,k=Object(r.useState)(!1),q=Object(w.a)(k,2),W=q[0],S=q[1],_=Object(r.useState)(!1),C=Object(w.a)(_,2),E=C[0],F=C[1],R=y||I;Object(r.useEffect)((function(){h()}),[h,l]);var U=null!==(n=null===b||void 0===b?void 0:b.field_paragraphs_export)&&void 0!==n?n:[],T=(null===(a=A[A.length-1])||void 0===a?void 0:a.id)===l,B=1/(0===A.length?1:A.length)*(A.findIndex((function(e){return e.id===l}))+1);if(p)return Object(u.jsx)(u.Fragment,{});var L=A.findIndex((function(e){return e.id===(null===b||void 0===b?void 0:b.nid)}))+1,M=localStorage.getItem("23")===b.field_program;return document.title="".concat(null===b||void 0===b?void 0:b.title," - HBKU-SOOS"),Object(u.jsxs)(ge,{programId:o,chapterId:l,children:[Object(u.jsx)(ve,{refetchReview:x,review:f,show:T&&W,isLastProgram:M}),Object(u.jsx)(We,{show:E,setShowQuiz:F,setShowReview:S}),Object(u.jsx)(J,{prefix:"".concat(Object(Q.a)(null!==(c=null===O||void 0===O?void 0:O.title)&&void 0!==c?c:"")," >  Section ").concat(L),title:Object(Q.a)(null!==(s=null===b||void 0===b?void 0:b.title)&&void 0!==s?s:"")}),Object(u.jsx)(pe,{items:A,program:O,loadingcourses:R,currentChapter:l}),Object(u.jsx)(me,{nextProgress:B,isLast:T,setShowQuiz:F,field_video:null===b||void 0===b?void 0:b.field_video}),Object(u.jsx)(xe,{}),Object(u.jsx)(Ae,{id:o,sections:U})]})};function _e(){m.a.defaults.headers.common["api-key"]=void 0,console.log("clearing from logout"),localStorage.clear();var e=Object(d.b)();return Object(r.useEffect)((function(){e(N()),window.location.href=q+"/user/logout"}),[e]),Object(u.jsx)(i.a,{to:"/"})}function Ce(){return window.location.reload(!0),Object(u.jsx)(u.Fragment,{})}var Ee=function(){var e=Object(d.b)();Object(r.useEffect)((function(){var t=localStorage.getItem("api-token");t?(m.a.defaults.headers.common["api-key"]=t,e(x())):(m.a.defaults.headers.common["api-key"]=void 0,e(x()))}),[e]);var t=Object(d.c)((function(e){return e.Login.refreshingToken})),n=Object(d.c)((function(e){return e.User.loggingIn}));return t||n?Object(u.jsx)(u.Fragment,{}):Object(u.jsxs)(i.d,{children:[Object(u.jsx)(h,{path:"/login",isAnonymousProtected:!0,component:A,isAuthProtected:!1,exact:!0}),Object(u.jsx)(h,{path:"/programs",component:P,isAuthProtected:!0,exact:!0}),Object(u.jsx)(h,{path:"/program/:id/:chapterId",component:Se,isAuthProtected:!0,exact:!0}),Object(u.jsx)(h,{path:"/",isAuthProtected:!1,exact:!0,children:Object(u.jsx)(Ce,{})}),Object(u.jsx)(i.b,{path:"/logout",children:Object(u.jsx)(_e,{})}),Object(u.jsx)(i.b,{children:Object(u.jsx)(i.a,{to:"/login"})})]})},Fe=(n(123),n(124),n(29)),Re=n(75),Ue="LOGIN_USER",Te="LOGIN_SUCCESS",Be="LOGIN_API_ERROR",Le="REFRESH_TOKEN",Me="REFRESH_TOKEN_SUCCESS",Qe={error:"",loggingIn:!1,refreshingToken:!0},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:e=Object(o.a)(Object(o.a)({},e),{},{loggingIn:!0});break;case Te:e=Object(o.a)(Object(o.a)({},e),{},{loggingIn:!1});break;case Be:e=Object(o.a)(Object(o.a)({},e),{},{error:t.payload,loggingIn:!1});break;case Le:e=Object(o.a)(Object(o.a)({},e),{},{refreshingToken:!0});break;case Me:e=Object(o.a)(Object(o.a)({},e),{},{refreshingToken:!1});break;default:e=Object(o.a)({},e)}return e},ze={user:null,loading:!0,loggingIn:!0},He=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case O:t=Object(o.a)(Object(o.a)({},t),{},{loading:!0});break;case f:t=Object(o.a)(Object(o.a)({},t),{},{user:null===n||void 0===n||null===(e=n.payload)||void 0===e?void 0:e.user,loggingIn:!1});break;case v:t=Object(o.a)(Object(o.a)({},t),{},{user:null,loggingIn:!1});break;default:t=Object(o.a)({},t)}return t},Ke=Object(Fe.b)({Login:De,User:He}),Pe=n(15),Je=n(12),Ve=n(44),Ge=function(){return{type:Me,payload:{}}},Ye=Object(Pe.a)().mark(et),Ze=Object(Pe.a)().mark(tt),Xe=Object(Pe.a)().mark(nt),$e=function(){var e=Object(Ve.a)(Object(Pe.a)().mark((function e(t){return Object(Pe.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post("/oauth/token",t).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function et(e){var t,n,r,a,c,s;return Object(Pe.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload.credential,(n=new FormData).append("grant_type","password"),n.append("client_id",k),n.append("client_secret",k),n.append("username",t.email),n.append("password",t.password),i.prev=7,i.next=10,$e(n);case 10:return r=i.sent,localStorage.setItem("access_token",r.access_token),localStorage.setItem("expires_in",r.expires_in),localStorage.setItem("refresh_token",r.refresh_token),localStorage.setItem("token_type",r.token_type),m.a.defaults.headers.common.Authorization="Bearer "+r.access_token,i.next=18,Object(Je.c)(x());case 18:i.next=25;break;case 20:return i.prev=20,i.t0=i.catch(7),s=null===i.t0||void 0===i.t0||null===(a=i.t0.response)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.message,i.next=25,Object(Je.c)({type:Be,payload:null!==s&&void 0!==s?s:"Cannot connect to server"});case 25:case"end":return i.stop()}}),Ye,null,[[7,20]])}function tt(){var e,t,n;return Object(Pe.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e=localStorage.getItem("refresh_token"),(t=new FormData).append("grant_type","refresh_token"),t.append("client_id",k),t.append("client_secret",k),t.append("refresh_token",e),!e){r.next=31;break}return r.prev=7,r.next=10,$e(t);case 10:return n=r.sent,localStorage.setItem("access_token",n.access_token),localStorage.setItem("expires_in",n.expires_in),localStorage.setItem("refresh_token",n.refresh_token),localStorage.setItem("token_type",n.token_type),m.a.defaults.headers.common.Authorization="Bearer "+n.access_token,r.next=18,Object(Je.c)(x());case 18:return r.next=20,Object(Je.c)(Ge());case 20:r.next=29;break;case 22:return r.prev=22,r.t0=r.catch(7),localStorage.clear(),r.next=27,Object(Je.c)(Ge());case 27:return r.next=29,Object(Je.c)(N());case 29:r.next=36;break;case 31:return localStorage.clear(),r.next=34,Object(Je.c)(Ge());case 34:return r.next=36,Object(Je.c)(N());case 36:case"end":return r.stop()}}),Ze,null,[[7,22]])}function nt(){return Object(Pe.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Je.d)(Ue,et);case 2:return e.next=4,Object(Je.d)(Le,tt);case 4:case"end":return e.stop()}}),Xe)}var rt=nt,at=Object(Pe.a)().mark(it),ct=Object(Pe.a)().mark(ot),st=function(){var e=Object(Ve.a)(Object(Pe.a)().mark((function e(){return Object(Pe.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/api/current-user",{withCredentials:!0}).then((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t[0]}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function it(){var e;return Object(Pe.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,st();case 3:return e=t.sent,t.next=6,Object(Je.c)(g(e));case 6:return t.next=8,Object(Je.c)(Ge());case 8:t.next=16;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Object(Je.c)(g(null));case 14:return t.next=16,Object(Je.c)(Ge());case 16:case"end":return t.stop()}}),at,null,[[0,10]])}function ot(){return Object(Pe.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Je.d)(O,it);case 2:case"end":return e.stop()}}),ct)}var lt=ot,dt=Object(Pe.a)().mark(ut);function ut(){return Object(Pe.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Je.a)([Object(Je.b)(rt)]);case 2:return e.next=4,Object(Je.a)([Object(Je.b)(lt)]);case 4:case"end":return e.stop()}}),dt)}var jt=Object(Re.a)(),bt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Fe.c,ht=Object(Fe.d)(Ke,bt(Object(Fe.a)(jt)));jt.run(ut);var pt=ht,mt=new Oe.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:!1}}});m.a.defaults.baseURL=q,s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(Oe.QueryClientProvider,{client:mt,children:Object(u.jsx)(d.a,{store:pt,children:Object(u.jsx)(y.a,{children:Object(u.jsx)(Ee,{})})})})}),document.getElementById("root"))},27:function(e,t,n){e.exports={title:"quiz_title__3AL_i",errorDiv:"quiz_errorDiv__1vxJc",question:"quiz_question__2Q3qI",response:"quiz_response__grcZI"}}},[[125,1,2]]]);
//# sourceMappingURL=main.3351f4b5.chunk.js.map